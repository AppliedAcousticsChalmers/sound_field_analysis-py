

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Reference &mdash; Sound Field Analysis toolbox for Python 2021.2.4 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Sound Field Analysis toolbox for Python
          

          
          </a>

          
            
            
              <div class="version">
                2021.2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#exp1-ideal-plane-wave">Exp1: Ideal plane wave</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#exp2-measured-plane-wave">Exp2: Measured plane wave</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#exp4-binaural-rendering">Exp4: Binaural rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#version-history">Version history</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#contribute">Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#generators">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#i-o">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#lebedev">Lebedev</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#processing">Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#spherical">Spherical</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.gen">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.io">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.lebedev">Lebedev</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.plot">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.process">Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.sph">Spherical</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sound_field_analysis.utils">Utilities</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Sound Field Analysis toolbox for Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-sound_field_analysis.gen">
<span id="generators"></span><h2>Generators<a class="headerlink" href="#module-sound_field_analysis.gen" title="Permalink to this headline">¶</a></h2>
<p>Module containing various generator functions:</p>
<dl class="simple">
<dt><cite>whiteNoise</cite></dt><dd><p>Adds White Gaussian Noise of approx. 16dB crest to a FFT block.</p>
</dd>
<dt><cite>gauss_grid</cite></dt><dd><p>Compute Gauss-Legendre quadrature nodes and weights in the SOFiA /
VariSphear data format.</p>
</dd>
<dt><cite>lebedev</cite></dt><dd><p>Compute Lebedev quadrature nodes and weights given a maximum stable
order. Alternatively, a degree may be supplied.</p>
</dd>
<dt><cite>radial_filter</cite></dt><dd><p>Generate modal radial filter of specified orders and frequencies.</p>
</dd>
<dt><cite>radial_filter_fullspec</cite></dt><dd><p>Generate NFFT/2 + 1 modal radial filter of orders 0:max_order for
frequencies 0:fs/2, wraps <cite>radial_filter()</cite>.</p>
</dd>
<dt><cite>spherical_head_filter</cite></dt><dd><p>Generate coloration compensation filter of specified maximum SH order.</p>
</dd>
<dt><cite>spherical_head_filter_spec</cite></dt><dd><p>Generate NFFT/2 + 1 coloration compensation filter of specified maximum
SH order for frequencies 0:fs/2, wraps <cite>spherical_head_filter()</cite>.</p>
</dd>
<dt><cite>tapering_window</cite></dt><dd><p>Design tapering window with cosine slope for orders greater than 3.</p>
</dd>
<dt><cite>sampled_wave</cite></dt><dd><p>Returns the frequency domain data of an ideal wave as recorded by a
provided array.</p>
</dd>
<dt><cite>ideal_wave</cite></dt><dd><p>Ideal wave generator, returns spatial Fourier coefficients <cite>Pnm</cite> of an
ideal wave front hitting a specified array.</p>
</dd>
<dt><cite>spherical_noise</cite></dt><dd><p>Returns order-limited random weights on a spherical surface.</p>
</dd>
<dt><cite>delay_fd</cite></dt><dd><p>Generate delay in frequency domain that resembles a circular shift in
time domain.</p>
</dd>
</dl>
<dl class="py function">
<dt id="sound_field_analysis.gen.whiteNoise">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">whiteNoise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fftData</span></em>, <em class="sig-param"><span class="n">noiseLevel</span><span class="o">=</span><span class="default_value">80</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#whiteNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.whiteNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds White Gaussian Noise of approx. 16dB crest to a FFT block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fftData</strong> (<em>array of complex floats</em>) – Input fftData block (e.g. from F/D/T or S/W/G)</p></li>
<li><p><strong>noiseLevel</strong> (<em>int, optional</em>) – Average noise Level in dB [Default: -80dB]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noisyData</strong> (<em>array of complex floats</em>) – Output fftData block including white gaussian noise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.gauss_grid">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">gauss_grid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">azimuth_nodes</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">colatitude_nodes</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#gauss_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.gauss_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Gauss-Legendre quadrature nodes and weights in the SOFiA /
VariSphear data format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>azimuth_nodes, colatitude_nodes</strong> (<em>int, optional</em>) – Number of azimuth / elevation nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>gridData</strong> (<em>io.SphericalGrid</em>) – SphericalGrid containing azimuth, colatitude and weights</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.lebedev">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">lebedev</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_order</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">degree</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#lebedev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.lebedev" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Lebedev quadrature nodes and weights given a maximum stable
order. Alternatively, a degree may be supplied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_order</strong> (<em>int</em>) – Maximum stable order of the Lebedev grid, [0 … 11]</p></li>
<li><p><strong>degree</strong> (<em>int, optional</em>) – Lebedev Degree, one of {6, 14, 26, 38, 50, 74, 86, 110, 146, 170, 194}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>gridData</strong> (<em>array_like</em>) – Lebedev quadrature positions and weights: [AZ, EL, W]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.radial_filter_fullspec">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">radial_filter_fullspec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_order</span></em>, <em class="sig-param"><span class="n">NFFT</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">amp_maxdB</span><span class="o">=</span><span class="default_value">40</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#radial_filter_fullspec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.radial_filter_fullspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate NFFT/2 + 1 modal radial filter of orders 0:max_order for
frequencies 0:fs/2, wraps <cite>radial_filter()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_order</strong> (<em>int</em>) – Maximum order</p></li>
<li><p><strong>NFFT</strong> (<em>int</em>) – Order of FFT (number of bins), should be a power of 2.</p></li>
<li><p><strong>fs</strong> (<em>int</em>) – Sampling frequency</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>amp_maxdB</strong> (<em>int, optional</em>) – Maximum modal amplification limit in dB [Default: 40]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dn</strong> (<em>array_like</em>) – Vector of modal frequency domain filter of shape
[max_order + 1 x NFFT / 2 + 1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.radial_filter">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">radial_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orders</span></em>, <em class="sig-param"><span class="n">freqs</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">amp_maxdB</span><span class="o">=</span><span class="default_value">40</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#radial_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.radial_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate modal radial filter of specified orders and frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orders</strong> (<em>array_like</em>) – orders of filter</p></li>
<li><p><strong>freqs</strong> (<em>array_like</em>) – Frequency of modal filter</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>amp_maxdB</strong> (<em>int, optional</em>) – Maximum modal amplification limit in dB [Default: 40]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dn</strong> (<em>array_like</em>) – Vector of modal frequency domain filter of shape [nOrders x nFreq]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.spherical_head_filter">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">spherical_head_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_order</span></em>, <em class="sig-param"><span class="n">full_order</span></em>, <em class="sig-param"><span class="n">kr</span></em>, <em class="sig-param"><span class="n">is_tapering</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#spherical_head_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.spherical_head_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate coloration compensation filter of specified maximum SH order,
according to <a class="footnote-reference brackets" href="#id3" id="id1">1</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_order</strong> (<em>int</em>) – Maximum order</p></li>
<li><p><strong>full_order</strong> (<em>int</em>) – Full order necessary to expand sound field in entire modal range</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Vector of corresponding wave numbers</p></li>
<li><p><strong>is_tapering</strong> (<em>bool, optional</em>) – If set, spherical head filter will be adapted applying a Hann window,
according to <a class="footnote-reference brackets" href="#id6" id="id2">2</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>G_SHF</strong> (<em>array_like</em>) – Vector of frequency domain filter of shape [NFFT / 2 + 1]</p>
</dd>
</dl>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Ben-Hur, Z., Brinkmann, F., Sheaffer, J., et al. (2017). “Spectral
equalization in binaural signals represented by order-truncated
spherical harmonics. The Journal of the Acoustical Society of America”.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.spherical_head_filter_spec">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">spherical_head_filter_spec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_order</span></em>, <em class="sig-param"><span class="n">NFFT</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">amp_maxdB</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_tapering</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#spherical_head_filter_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.spherical_head_filter_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate NFFT/2 + 1 coloration compensation filter of specified maximum
SH order for frequencies 0:fs/2, wraps <cite>spherical_head_filter()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_order</strong> (<em>int</em>) – Maximum order</p></li>
<li><p><strong>NFFT</strong> (<em>int</em>) – Order of FFT (number of bins), should be a power of 2</p></li>
<li><p><strong>fs</strong> (<em>int</em>) – Sampling frequency</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Array radius</p></li>
<li><p><strong>amp_maxdB</strong> (<em>int, optional</em>) – Maximum modal amplification limit in dB [Default: None]</p></li>
<li><p><strong>is_tapering</strong> (<em>bool, optional</em>) – If true spherical head filter will be adapted for SH tapering.
[Default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>G_SHF</strong> (<em>array_like</em>) – Vector of frequency domain filter of shape [NFFT / 2 + 1]</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Implement <cite>arctan()</cite> soft-clipping</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.tapering_window">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">tapering_window</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#tapering_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.tapering_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Design tapering window with cosine slope for orders greater than 3,
according to <a class="footnote-reference brackets" href="#id6" id="id5">2</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_order</strong> (<em>int</em>) – Maximum SH order</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>hann_window_half</strong> (<em>array_like</em>) – Tapering window with cosine slope for orders greater than 3. Ones in case
of maximum SH order being smaller than 3.</p>
</dd>
</dl>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets">2</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id5">2</a>)</span></dt>
<dd><p>Hold, Christoph, Hannes Gamper, Ville Pulkki, Nikunj Raghuvanshi, and
Ivan J. Tashev (2019). “Improving Binaural Ambisonics Decoding by
Spherical Harmonics Domain Tapering and Coloration Compensation.”</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.sampled_wave">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">sampled_wave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">NFFT</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">gridData</span></em>, <em class="sig-param"><span class="n">wave_azimuth</span></em>, <em class="sig-param"><span class="n">wave_colatitude</span></em>, <em class="sig-param"><span class="n">wavetype</span><span class="o">=</span><span class="default_value">'plane'</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">343</span></em>, <em class="sig-param"><span class="n">distance</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">limit_order</span><span class="o">=</span><span class="default_value">85</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#sampled_wave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.sampled_wave" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the frequency domain data of an ideal wave as recorded by a
provided array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – Maximum transform order</p></li>
<li><p><strong>fs</strong> (<em>int</em>) – Sampling frequency</p></li>
<li><p><strong>NFFT</strong> (<em>int</em>) – Order of FFT (number of bins), should be a power of 2.</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>gridData</strong> (<em>io.SphericalGrid</em>) – List/Tuple/gauss_grid, see io.SphericalGrid</p></li>
<li><p><strong>wave_azimuth, wave_colatitude</strong> (<em>float, optional</em>) – Direction of incoming wave in radians [0-2pi].</p></li>
<li><p><strong>wavetype</strong> (<em>{‘plane’, ‘spherical’}, optional</em>) – Type of the wave. [Default: plane]</p></li>
<li><p><strong>c</strong> (<em>float, optional</em>) – __UNUSED__ Speed of sound in [m/s] [Default: 343 m/s]</p></li>
<li><p><strong>distance</strong> (<em>float, optional</em>) – Distance of the source in [m] (For spherical waves only)</p></li>
<li><p><strong>limit_order</strong> (<em>int, optional</em>) – Sets the limit for wave generation</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If NFFT is smaller than the time the wavefront needs to travel from the
source to the array, the impulse response will by cyclically shifted
(cyclic convolution).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Pnm</strong> (<em>array_like</em>) – Spatial fourier coefficients of resampled sound field</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>Investigate if <cite>limit_order</cite> works as intended</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.ideal_wave">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">ideal_wave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">azimuth</span></em>, <em class="sig-param"><span class="n">colatitude</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">wavetype</span><span class="o">=</span><span class="default_value">'plane'</span></em>, <em class="sig-param"><span class="n">distance</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">NFFT</span><span class="o">=</span><span class="default_value">128</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">343.0</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#ideal_wave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.ideal_wave" title="Permalink to this definition">¶</a></dt>
<dd><p>Ideal wave generator, returns spatial Fourier coefficients <cite>Pnm</cite> of an
ideal wave front hitting a specified array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – Maximum transform order</p></li>
<li><p><strong>fs</strong> (<em>int</em>) – Sampling frequency</p></li>
<li><p><strong>NFFT</strong> (<em>int</em>) – Order of FFT (number of bins), should be a power of 2</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>azimuth, colatitude</strong> (<em>float</em>) – Azimuth/Colatitude angle of the wave in [RAD]</p></li>
<li><p><strong>wavetype</strong> (<em>{‘plane’, ‘spherical’}, optional</em>) – Select between plane or spherical wave [Default: Plane wave]</p></li>
<li><p><strong>distance</strong> (<em>float, optional</em>) – Distance of the source in [m] (for spherical waves only)</p></li>
<li><p><strong>delay</strong> (<em>float, optional</em>) – Time Delay in s [default: 0]</p></li>
<li><p><strong>c</strong> (<em>float, optional</em>) – Propagation velocity in m/s [Default: 343m/s]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If NFFT is smaller than the time the wavefront needs to travel from the
source to the array, the impulse response will by cyclically shifted.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Pnm</strong> (<em>array of complex floats</em>) – Spatial Fourier Coefficients with nm coeffs in cols and FFT coeffs in
rows</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.spherical_noise">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">spherical_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gridData</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">order_max</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">spherical_harmonic_bases</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#spherical_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.spherical_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns order-limited random weights on a spherical surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gridData</strong> (<em>io.SphericalGrid</em>) – SphericalGrid containing azimuth and colatitude</p></li>
<li><p><strong>order_max</strong> (<em>int, optional</em>) – Spherical order limit [Default: 8]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
<li><p><strong>spherical_harmonic_bases</strong> (<em>array_like, optional</em>) – Spherical harmonic base coefficients (not yet weighted by spatial
sampling grid) [Default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>noisy_weights</strong> (<em>array_like, complex</em>) – Noisy weights</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.gen.delay_fd">
<code class="sig-prename descclassname">sound_field_analysis.gen.</code><code class="sig-name descname">delay_fd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_length_fd</span></em>, <em class="sig-param"><span class="n">delay_samples</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/gen.html#delay_fd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.gen.delay_fd" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate delay in frequency domain that resembles a circular shift in
time domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_length_fd</strong> (<em>int</em>) – number of bins in single-sided spectrum</p></li>
<li><p><strong>delay_samples</strong> (<em>float</em>) – delay time in samples (subsample precision not tested yet!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>numpy.ndarray</em> – delay spectrum in frequency domain</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.io">
<span id="i-o"></span><h2>I/O<a class="headerlink" href="#module-sound_field_analysis.io" title="Permalink to this headline">¶</a></h2>
<p>Module containing various input and output functions:</p>
<dl class="simple">
<dt><cite>TimeSignal</cite></dt><dd><p>Named tuple to store time domain data and related metadata.</p>
</dd>
<dt><cite>SphericalGrid</cite></dt><dd><p>Named tuple to store spherical sampling grid geometry.</p>
</dd>
<dt><cite>ArrayConfiguration</cite></dt><dd><p>Named tuple to store microphone array characteristics.</p>
</dd>
<dt><cite>ArraySignal</cite></dt><dd><p>Named tuple to store microphone array data in terms of <cite>TimeSignal</cite>,
<cite>SphericalGrid</cite> and <cite>ArrayConfiguration</cite></p>
</dd>
<dt><cite>HrirSignal</cite></dt><dd><p>Named tuple to store Head Related Impulse Response grid data in terms of
<cite>TimeSignal</cite> for either ear and <cite>SphericalGrid</cite></p>
</dd>
<dt><cite>read_miro_struct</cite></dt><dd><p>Read Head Related Impulse Responses (HRIRs) or Array / Directional
Impulse Responses (DRIRs) stored as MIRO Matlab files and convert them to
<cite>ArraySignal</cite>.</p>
</dd>
<dt><cite>read_SOFA_file</cite></dt><dd><p>Read Head Related Impulse Responses (HRIRs) or Array / Directional
Impulse Responses (DRIRs) stored as Spatially Oriented Format for Acoustics
(SOFA) files and convert them to <cite>ArraySignal</cite> or <cite>HrirSignal</cite>.</p>
</dd>
<dt><cite>empty_time_signal</cite></dt><dd><p>Returns an empty np rec array that has the proper data structure.</p>
</dd>
<dt><cite>load_array_signal</cite></dt><dd><p>Convenience function to load ArraySignal saved into np data structures.</p>
</dd>
<dt><cite>read_wavefile</cite></dt><dd><p>Reads in WAV files and returns data [Nsig x Nsamples] and fs.</p>
</dd>
<dt><cite>write_SSR_IRs</cite></dt><dd><p>Takes two time signals and writes out the horizontal plane as HRIRs for
the SoundScapeRenderer. Ideally, both hold 360 IRs but smaller sets are
tried to be scaled up using repeat.</p>
</dd>
</dl>
<dl class="py class">
<dt id="sound_field_analysis.io.TimeSignal">
<em class="property">class </em><code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">TimeSignal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">signal</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#TimeSignal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.TimeSignal" title="Permalink to this definition">¶</a></dt>
<dd><p>Named tuple to store time domain data and related metadata.</p>
<dl class="py method">
<dt id="sound_field_analysis.io.TimeSignal.__new__">
<em class="property">static </em><code class="sig-name descname">__new__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">signal</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#TimeSignal.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>array_like</em>) – Array of signals of shape [nSignals x nSamples]</p></li>
<li><p><strong>fs</strong> (<em>int or array_like</em>) – Sampling frequency</p></li>
<li><p><strong>delay</strong> (<em>float or array_like, optional</em>) – [Default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.TimeSignal.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of occurrences of value.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.TimeSignal.delay">
<code class="sig-name descname">delay</code><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.TimeSignal.fs">
<code class="sig-name descname">fs</code><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.fs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.TimeSignal.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first index of value.</p>
<p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.TimeSignal.signal">
<code class="sig-name descname">signal</code><a class="headerlink" href="#sound_field_analysis.io.TimeSignal.signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sound_field_analysis.io.SphericalGrid">
<em class="property">class </em><code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">SphericalGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">azimuth</span></em>, <em class="sig-param"><span class="n">colatitude</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#SphericalGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Named tuple to store spherical sampling grid geometry.</p>
<dl class="py method">
<dt id="sound_field_analysis.io.SphericalGrid.__new__">
<em class="property">static </em><code class="sig-name descname">__new__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">azimuth</span></em>, <em class="sig-param"><span class="n">colatitude</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#SphericalGrid.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>azimuth, colatitude</strong> (<em>array_like</em>) – Grid sampling point directions in radians</p></li>
<li><p><strong>radius, weight</strong> (<em>float or array_like, optional</em>) – Grid sampling point distances and weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.SphericalGrid.azimuth">
<code class="sig-name descname">azimuth</code><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.azimuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.SphericalGrid.colatitude">
<code class="sig-name descname">colatitude</code><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.colatitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.SphericalGrid.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of occurrences of value.</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.SphericalGrid.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first index of value.</p>
<p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.SphericalGrid.radius">
<code class="sig-name descname">radius</code><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.SphericalGrid.weight">
<code class="sig-name descname">weight</code><a class="headerlink" href="#sound_field_analysis.io.SphericalGrid.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sound_field_analysis.io.ArrayConfiguration">
<em class="property">class </em><code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">ArrayConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array_radius</span></em>, <em class="sig-param"><span class="n">array_type</span></em>, <em class="sig-param"><span class="n">transducer_type</span></em>, <em class="sig-param"><span class="n">scatter_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dual_radius</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#ArrayConfiguration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Named tuple to store microphone array characteristics.</p>
<dl class="py method">
<dt id="sound_field_analysis.io.ArrayConfiguration.__new__">
<em class="property">static </em><code class="sig-name descname">__new__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">array_radius</span></em>, <em class="sig-param"><span class="n">array_type</span></em>, <em class="sig-param"><span class="n">transducer_type</span></em>, <em class="sig-param"><span class="n">scatter_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dual_radius</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#ArrayConfiguration.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array_radius</strong> (<em>float or array_like</em>) – Radius of array</p></li>
<li><p><strong>array_type</strong> (<em>{‘open’, ‘rigid’}</em>) – Type array</p></li>
<li><p><strong>transducer_type</strong> (<em>{‘omni’, ‘cardioid’}</em>) – Type of transducer,</p></li>
<li><p><strong>scatter_radius</strong> (<em>float, optional</em>) – Radius of scatterer, required for <cite>array_type</cite> == ‘rigid’.
[Default: equal to array_radius]</p></li>
<li><p><strong>dual_radius</strong> (<em>float, optional</em>) – Radius of second array, required for <cite>array_type</cite> == ‘dual’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArrayConfiguration.array_radius">
<code class="sig-name descname">array_radius</code><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.array_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArrayConfiguration.array_type">
<code class="sig-name descname">array_type</code><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.array_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.ArrayConfiguration.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of occurrences of value.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArrayConfiguration.dual_radius">
<code class="sig-name descname">dual_radius</code><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.dual_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.ArrayConfiguration.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first index of value.</p>
<p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArrayConfiguration.scatter_radius">
<code class="sig-name descname">scatter_radius</code><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.scatter_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArrayConfiguration.transducer_type">
<code class="sig-name descname">transducer_type</code><a class="headerlink" href="#sound_field_analysis.io.ArrayConfiguration.transducer_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sound_field_analysis.io.ArraySignal">
<em class="property">class </em><code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">ArraySignal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">signal</span></em>, <em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">center_signal</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">configuration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#ArraySignal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.ArraySignal" title="Permalink to this definition">¶</a></dt>
<dd><p>Named tuple to store microphone array data in terms of <cite>TimeSignal</cite>,
<cite>SphericalGrid</cite> and <cite>ArrayConfiguration</cite>.</p>
<dl class="py method">
<dt id="sound_field_analysis.io.ArraySignal.__new__">
<em class="property">static </em><code class="sig-name descname">__new__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">signal</span></em>, <em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">center_signal</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">configuration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#ArraySignal.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>TimeSignal</em>) – Array Time domain signals and sampling frequency</p></li>
<li><p><strong>grid</strong> (<em>SphericalGrid</em>) – Measurement grid of time domain signals</p></li>
<li><p><strong>center_signal</strong> (<em>TimeSignal</em>) – Center measurement time domain signal and sampling frequency</p></li>
<li><p><strong>configuration</strong> (<em>ArrayConfiguration</em>) – Information on array configuration</p></li>
<li><p><strong>temperature</strong> (<em>array_like, optional</em>) – Temperature in room or at each sampling position</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArraySignal.center_signal">
<code class="sig-name descname">center_signal</code><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.center_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArraySignal.configuration">
<code class="sig-name descname">configuration</code><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.ArraySignal.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of occurrences of value.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArraySignal.grid">
<code class="sig-name descname">grid</code><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.ArraySignal.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first index of value.</p>
<p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArraySignal.signal">
<code class="sig-name descname">signal</code><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.ArraySignal.temperature">
<code class="sig-name descname">temperature</code><a class="headerlink" href="#sound_field_analysis.io.ArraySignal.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sound_field_analysis.io.HrirSignal">
<em class="property">class </em><code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">HrirSignal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em>, <em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">center_signal</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#HrirSignal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.HrirSignal" title="Permalink to this definition">¶</a></dt>
<dd><p>Named tuple to store Head Related Impulse Response grid data in terms of
<cite>TimeSignal</cite> for either ear and <cite>SphericalGrid</cite>.</p>
<dl class="py method">
<dt id="sound_field_analysis.io.HrirSignal.__new__">
<em class="property">static </em><code class="sig-name descname">__new__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">l</span></em>, <em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">center_signal</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#HrirSignal.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l</strong> (<em>TimeSignal</em>) – Left ear time domain signals and sampling frequency</p></li>
<li><p><strong>r</strong> (<em>TimeSignal</em>) – Right ear time domain signals and sampling frequency</p></li>
<li><p><strong>grid</strong> (<em>SphericalGrid</em>) – Measurement grid of time domain signals</p></li>
<li><p><strong>center_signal</strong> (<em>TimeSignal</em>) – Center measurement time domain signal and sampling frequency</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.HrirSignal.center_signal">
<code class="sig-name descname">center_signal</code><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.center_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.HrirSignal.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of occurrences of value.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.HrirSignal.grid">
<code class="sig-name descname">grid</code><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="sound_field_analysis.io.HrirSignal.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first index of value.</p>
<p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.HrirSignal.l">
<code class="sig-name descname">l</code><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.l" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="sound_field_analysis.io.HrirSignal.r">
<code class="sig-name descname">r</code><a class="headerlink" href="#sound_field_analysis.io.HrirSignal.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.read_miro_struct">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">read_miro_struct</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">'irChOne'</span></em>, <em class="sig-param"><span class="n">transducer_type</span><span class="o">=</span><span class="default_value">'omni'</span></em>, <em class="sig-param"><span class="n">scatter_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">get_center_signal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#read_miro_struct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.read_miro_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Head Related Impulse Responses (HRIRs) or Array / Directional
Impulse Responses (DRIRs) stored as MIRO Matlab files and convert them to
<cite>ArraySignal</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>filepath</em>) – Path to file that has been exported as a struct</p></li>
<li><p><strong>channel</strong> (<em>string, optional</em>) – Channel that holds required signals. [Default: ‘irChOne’]</p></li>
<li><p><strong>transducer_type</strong> (<em>{omni, cardioid}, optional</em>) – Sets the type of transducer used in the recording. [Default: ‘omni’]</p></li>
<li><p><strong>scatter_radius</strong> (<em>float, option</em>) – Radius of the scatterer. [Default: None]</p></li>
<li><p><strong>get_center_signal</strong> (<em>bool, optional</em>) – If center signal should be loaded. [Default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>array_signal</strong> (<em>ArraySignal</em>) – Tuple containing a TimeSignal <cite>signal</cite>, SphericalGrid <cite>grid</cite>,
TimeSignal ‘center_signal’, ArrayConfiguration <cite>configuration</cite> and
the air temperature</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This function expects a slightly modified miro file in that it expects a
field <cite>colatitude</cite> instead of <cite>elevation</cite>. This is for avoiding confusion as
may miro file contain colatitude data in the elevation field.</p>
<p>To import center signal measurements the matlab method miro_to_struct has to
be extended. Center measurements are included in every measurement
provided at <a class="reference external" href="http://audiogroup.web.th-koeln.de/">http://audiogroup.web.th-koeln.de/</a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.read_SOFA_file">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">read_SOFA_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#read_SOFA_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.read_SOFA_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Head Related Impulse Responses (HRIRs) or Array / Directional
Impulse Response (DRIRs) stored as Spatially Oriented Format for Acoustics
(SOFA) files and convert them to`ArraySignal` or <cite>HrirSignal</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>filepath</em>) – Path to SOFA file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>ArraySignal or HRIRSignal</em> – Names tuples containing a the loaded file contents</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>NotImplementedError</strong> – In case SOFA conventions other then “SimpleFreeFieldHRIR” or
    “SingleRoomDRIR” should be loaded</p></li>
<li><p><strong>ValueError</strong> – In case source / receiver grid given in units not according to the SOFA
    convention</p></li>
<li><p><strong>ValueError</strong> – In case impulse response data is incomplete</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.empty_time_signal">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">empty_time_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">no_of_signals</span></em>, <em class="sig-param"><span class="n">signal_length</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#empty_time_signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.empty_time_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an empty np rec array that has the proper data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_of_signals</strong> (<em>int</em>) – Number of signals to be stored in the recarray</p></li>
<li><p><strong>signal_length</strong> (<em>int</em>) – Length of the signals to be stored in the recarray</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>time_data</strong> (<em>recarray</em>) – Structured array  with following fields:</p></li>
<li><p><em>::</em> – .signal           [Channels X Samples]
.fs               Sampling frequency in [Hz]
.azimuth          Azimuth of sampling points
.colatitude       Colatitude of sampling points
.radius           Array radius in [m]
.grid_weights     Weights of quadrature
.air_temperature  Average temperature in [C]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.load_array_signal">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">load_array_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#load_array_signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.load_array_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to load ArraySignal saved into np data structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – File to load</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Y</strong> (<em>ArraySignal</em>) – See io.ArraySignal</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.read_wavefile">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">read_wavefile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#read_wavefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.read_wavefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in WAV files and returns data [Nsig x Nsamples] and fs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – Filename of wave file to be read</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>array_like</em>) – Data of dim [Nsig x Nsamples]</p></li>
<li><p><strong>fs</strong> (<em>int</em>) – Sampling frequency of read data</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.io.write_SSR_IRs">
<code class="sig-prename descclassname">sound_field_analysis.io.</code><code class="sig-name descname">write_SSR_IRs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">time_data_l</span></em>, <em class="sig-param"><span class="n">time_data_r</span></em>, <em class="sig-param"><span class="n">wavformat</span><span class="o">=</span><span class="default_value">'float32'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/io.html#write_SSR_IRs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.io.write_SSR_IRs" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes two time signals and writes out the horizontal plane as HRIRs for
the SoundScapeRenderer. Ideally, both hold 360 IRs but smaller sets are
tried to be scaled up using repeat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – filename to write to</p></li>
<li><p><strong>time_data_l, time_data_r</strong> (<em>io.ArraySignal</em>) – ArraySignals for left/right ear</p></li>
<li><p><strong>wavformat</strong> (<em>{float32, int32, int16}, optional</em>) – wav file format to write [Default: float32]</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – in case unknown wavformat is provided</p></li>
<li><p><strong>ValueError</strong> – in case integer format should be exported and amplitude exceeds 1.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.lebedev">
<span id="lebedev"></span><h2>Lebedev<a class="headerlink" href="#module-sound_field_analysis.lebedev" title="Permalink to this headline">¶</a></h2>
<p>Module to generate Lebedev grids and quadrature weights for degrees 6, 14, 26,
38, 50, 74, 86, 110, 146, 170, 194:</p>
<dl class="simple">
<dt><cite>genGrid(n)</cite></dt><dd><p>Generate Lebedev grid geometry of degree <cite>n</cite>.</p>
</dd>
</dl>
<p>Adapted from Richard P. Mullers Python version,
<a class="reference external" href="https://github.com/gabrielelanaro/pyquante/blob/master/Data/lebedev_write.py">https://github.com/gabrielelanaro/pyquante/blob/master/Data/lebedev_write.py</a>
C version: Dmitri Laikov
F77 version: Christoph van Wuellen, <a class="reference external" href="http://www.ccl.net">http://www.ccl.net</a></p>
<p>Users of this code are asked to include reference <a class="footnote-reference brackets" href="#id9" id="id8">3</a> in their publications,
and in the user- and programmers-manuals describing their codes.</p>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id8">3</a></span></dt>
<dd><p>V.I. Lebedev, and D.N. Laikov ‘A quadrature formula for the sphere of the
131st algebraic order of accuracy’ Doklady Mathematics, Vol. 59, No. 3,
1999, pp. 477-481.</p>
</dd>
</dl>
</div>
<dl class="py function">
<dt id="sound_field_analysis.lebedev.genGrid">
<code class="sig-prename descclassname">sound_field_analysis.lebedev.</code><code class="sig-name descname">genGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/lebedev.html#genGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.lebedev.genGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Lebedev grid geometry of degree <cite>n</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int{6, 14, 26, 38, 50, 74, 86, 110, 146, 170, 194}</em>) – Lebedev degree</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>lebGrid</strong> (<em>named tuple</em>) – Named tuple to store <cite>x</cite>, <cite>y</cite>, <cite>z</cite> cartesian coordinates and quadrature
weights <cite>w</cite></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – in case no grid could be generated for given degree</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.plot">
<span id="plotting"></span><h2>Plotting<a class="headerlink" href="#module-sound_field_analysis.plot" title="Permalink to this headline">¶</a></h2>
<p>Module containing various plotting functions:</p>
<dl class="simple">
<dt><cite>makeMTX</cite></dt><dd><p>Returns a plane wave decomposition over a full sphere.</p>
</dd>
<dt><cite>makeFullMTX</cite></dt><dd><p>Generates visualization matrix for a set of spatial fourier coefficients
over all kr.</p>
</dd>
<dt><cite>plot2D</cite></dt><dd><p>Visualize 2D data using plotly.</p>
</dd>
<dt><cite>plot3D</cite></dt><dd><p>Visualize matrix data, such as from <cite>makeMTX(Pnm, dn)</cite>.</p>
</dd>
<dt><cite>plot3Dgrid</cite></dt><dd><p>Visualize matrix data in a grid, such as from <cite>makeMTX(Pnm, dn)</cite>.</p>
</dd>
</dl>
<dl class="py function">
<dt id="sound_field_analysis.plot.makeMTX">
<code class="sig-prename descclassname">sound_field_analysis.plot.</code><code class="sig-name descname">makeMTX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spat_coeffs</span></em>, <em class="sig-param"><span class="n">radial_filter</span></em>, <em class="sig-param"><span class="n">kr_IDX</span></em>, <em class="sig-param"><span class="n">viz_order</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stepsize_deg</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/plot.html#makeMTX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.plot.makeMTX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a plane wave decomposition over a full sphere.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spat_coeffs</strong> (<em>array_like</em>) – Spatial fourier coefficients</p></li>
<li><p><strong>radial_filter</strong> (<em>array_like</em>) – Modal radial filters</p></li>
<li><p><strong>kr_IDX</strong> (<em>int</em>) – Index of kr to be computed</p></li>
<li><p><strong>viz_order</strong> (<em>int, optional</em>) – Order of the spatial fourier transform [Default: Highest available]</p></li>
<li><p><strong>stepsize_deg</strong> (<em>float, optional</em>) – Integer Factor to increase the resolution. [Default: 1]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>mtxData</strong> (<em>array_like</em>) – Plane wave decomposition (frequency domain)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The file generates a Matrix of 181x360 pixels for the
visualisation with visualize3D() in 1[deg] Steps (65160 plane waves).</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.plot.makeFullMTX">
<code class="sig-prename descclassname">sound_field_analysis.plot.</code><code class="sig-name descname">makeFullMTX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Pnm</span></em>, <em class="sig-param"><span class="n">dn</span></em>, <em class="sig-param"><span class="n">kr</span></em>, <em class="sig-param"><span class="n">viz_order</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/plot.html#makeFullMTX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.plot.makeFullMTX" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates visualization matrix for a set of spatial fourier coefficients
over all kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pnm</strong> (<em>array_like</em>) – Spatial Fourier Coefficients (e.g. from S/T/C)</p></li>
<li><p><strong>dn</strong> (<em>array_like</em>) – Modal Radial Filters (e.g. from M/F)</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – kr-vector</p></li>
<li><p><strong>viz_order</strong> (<em>int, optional</em>) – Order of the spatial fourier tplane_wave_decompransform
[Default: Highest available]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vizMtx</strong> (<em>array_like</em>) – Computed visualization matrix over all kr</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.plot.plot2D">
<code class="sig-prename descclassname">sound_field_analysis.plot.</code><code class="sig-name descname">plot2D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">viz_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fs</span><span class="o">=</span><span class="default_value">44100</span></em>, <em class="sig-param"><span class="n">line_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/plot.html#plot2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.plot.plot2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize 2D data using plotly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array_like</em>) – Data to be plotted, separated along the first dimension (rows)</p></li>
<li><p><strong>title</strong> (<em>str, optional</em>) – Add title to be displayed on plot</p></li>
<li><p><strong>viz_type</strong> (<em>str{None, ‘Time’, ‘ETC’, ‘LinFFT’, ‘LogFFT’}, optional</em>) – Type of data to be displayed [Default: None]</p></li>
<li><p><strong>fs</strong> (<em>int, optional</em>) – Sampling rate in Hz [Default: 44100]</p></li>
<li><p><strong>line_names</strong> (<em>list of str, optional</em>) – Add legend to be displayed on plot, with one entry for each data row
[Default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.plot.plot3D">
<code class="sig-prename descclassname">sound_field_analysis.plot.</code><code class="sig-name descname">plot3D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vizMTX</span></em>, <em class="sig-param"><span class="n">style</span><span class="o">=</span><span class="default_value">'shape'</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">logScale</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/plot.html#plot3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.plot.plot3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize matrix data, such as from <cite>makeMTX(Pnm, dn)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vizMTX</strong> (<em>array_like</em>) – Matrix holding spherical data for visualization</p></li>
<li><p><strong>layout</strong> (<em>plotly.graph_objs.Layout, optional</em>) – Layout of plot to be displayed offline</p></li>
<li><p><strong>style</strong> (<em>string{‘shape’, ‘sphere’, ‘flat’}, optional</em>) – Style of visualization. [Default: ‘shape’]</p></li>
<li><p><strong>normalize</strong> (<em>bool, optional</em>) – Toggle normalization of data to [-1 … 1] [Default: True]</p></li>
<li><p><strong>logScale</strong> (<em>bool, optional</em>) – Toggle conversion logScale [Default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>None</em></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>Add colorization and contour plots</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.plot.plot3Dgrid">
<code class="sig-prename descclassname">sound_field_analysis.plot.</code><code class="sig-name descname">plot3Dgrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span></em>, <em class="sig-param"><span class="n">cols</span></em>, <em class="sig-param"><span class="n">viz_data</span></em>, <em class="sig-param"><span class="n">style</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/plot.html#plot3Dgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.plot.plot3Dgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize matrix data in a grid, such as from <cite>makeMTX(Pnm, dn)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>int</em>) – Number of grid rows</p></li>
<li><p><strong>cols</strong> (<em>int</em>) – Number of grid columns</p></li>
<li><p><strong>viz_data</strong> (<em>array_like</em>) – Matrix holding data for visualization</p></li>
<li><p><strong>style</strong> (<em>string{‘shape’, ‘sphere’, ‘flat’}, optional</em>) – Style of visualization. [Default: ‘shape’]</p></li>
<li><p><strong>normalize</strong> (<em>bool, optional</em>) – Toggle normalization of data to [-1 … 1] [Default: True]</p></li>
<li><p><strong>title</strong> (<em>str, optional</em>) – Add title to be displayed on plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.process">
<span id="processing"></span><h2>Processing<a class="headerlink" href="#module-sound_field_analysis.process" title="Permalink to this headline">¶</a></h2>
<p>Module containing functions to act on the Spatial Fourier Coefficients.</p>
<dl class="simple">
<dt><cite>BEMA</cite></dt><dd><p>Perform Bandwidth Extension for Microphone Arrays (BEMA) spatial
anti-aliasing.</p>
</dd>
<dt><cite>FFT</cite></dt><dd><p>Perform real-valued Fast Fourier Transform (FFT).</p>
</dd>
<dt><cite>iFFT</cite></dt><dd><p>Perform inverse real-valued (Fast) Fourier Transform (iFFT).</p>
</dd>
<dt><cite>spatFT</cite></dt><dd><p>Perform spatial Fourier transform.</p>
</dd>
<dt><cite>spatFT_RT</cite></dt><dd><p>Perform spatial Fourier transform for real-time applications
(otherwise use <cite>spatFT()</cite> for more more convenience and flexibility).</p>
</dd>
<dt><cite>spatFT_LSF</cite></dt><dd><p>Perform spatial Fourier transform by least square fit to provided data.</p>
</dd>
<dt><cite>iSpatFT</cite></dt><dd><p>Perform inverse spatial Fourier transform.</p>
</dd>
<dt><cite>plane_wave_decomp</cite></dt><dd><p>Perform plane wave decomposition.</p>
</dd>
<dt><cite>rfi</cite></dt><dd><p>Perform radial filter improvement (RFI)</p>
</dd>
<dt><cite>sfe</cite></dt><dd><p>Perform sound field extrapolation (SFE) - WORK IN PROGRESS.</p>
</dd>
<dt><cite>wdr</cite></dt><dd><p>Perform Wigner-D rotation (WDR) - NOT YET IMPLEMENTED.</p>
</dd>
<dt><cite>convolve</cite></dt><dd><p>Convolve two arrays A &amp; B row-wise where one or both can be
one-dimensional for SIMO/SISO convolution.</p>
</dd>
</dl>
<dl class="py function">
<dt id="sound_field_analysis.process.BEMA">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">BEMA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Pnm</span></em>, <em class="sig-param"><span class="n">center_sig</span></em>, <em class="sig-param"><span class="n">dn</span></em>, <em class="sig-param"><span class="n">transition</span></em>, <em class="sig-param"><span class="n">avg_band_width</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">fade</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">max_order</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#BEMA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.BEMA" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform Bandwidth Extension for Microphone Arrays (BEMA) spatial
anti-aliasing, according to <a class="footnote-reference brackets" href="#id12" id="id11">4</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pnm</strong> (<em>array_like</em>) – Sound field SH spatial Fourier coefficients</p></li>
<li><p><strong>center_sig</strong> (<em>array_like</em>) – Center microphone in shape [0, NFFT]</p></li>
<li><p><strong>dn</strong> (<em>array_like</em>) – Radial filters for the current array configuration</p></li>
<li><p><strong>transition</strong> (<em>int</em>) – Highest stable bin, approx: transition = (NFFT/fs) * (N*c)/(2*pi*r)</p></li>
<li><p><strong>avg_band_width</strong> (<em>int, optional</em>) – Averaging Bandwidth in oct [Default: 1]</p></li>
<li><p><strong>fade</strong> (<em>bool, optional</em>) – Fade over if True, else hard cut [Default: True]</p></li>
<li><p><strong>max_order</strong> (<em>int, optional</em>) – Maximum transform order [Default: highest available order]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Pnm</strong> (<em>array_like</em>) – BEMA optimized sound field SH coefficients</p>
</dd>
</dl>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id11">4</a></span></dt>
<dd><p>B. Bernschütz, “Bandwidth Extension for Microphone Arrays”,
AES Convention 2012, Convention Paper 8751, 2012.
<a class="reference external" href="http://www.aes.org/e-lib/browse.cfm?elib=16493">http://www.aes.org/e-lib/browse.cfm?elib=16493</a></p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.FFT">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">FFT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_signals</span></em>, <em class="sig-param"><span class="n">fs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">NFFT</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">oversampling</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">first_sample</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">last_sample</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">calculate_freqs</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#FFT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.FFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform real-valued Fast Fourier Transform (FFT).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_signals</strong> (<em>TimeSignal/tuple/object</em>) – Time-domain signals to be transformed.</p></li>
<li><p><strong>fs</strong> (<em>int, optional</em>) – Sampling frequency - only optional no frequency vector should be
calculated or if a TimeSignal or tuple/array containing fs is passed</p></li>
<li><p><strong>NFFT</strong> (<em>int, optional</em>) – Number of frequency bins. Resulting array will have size NFFT//2+1
[Default: Next power of 2]</p></li>
<li><p><strong>oversampling</strong> (<em>int, optional</em>) – Oversample the incoming signal to increase frequency resolution
[Default: 1]</p></li>
<li><p><strong>first_sample</strong> (<em>int, optional</em>) – First time domain sample to be included [Default: 0]</p></li>
<li><p><strong>last_sample</strong> (<em>int, optional</em>) – Last time domain sample to be included [Default: -1]</p></li>
<li><p><strong>calculate_freqs</strong> (<em>bool, optional</em>) – Calculate frequency scale if True, else return only spectrum
[Default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fftData</strong> (<em>array_like</em>) – One-sided frequency domain spectrum</p></li>
<li><p><strong>f</strong> (<em>array_like, optional</em>) – Vector of frequency bins of one-sided spectrum, in case of
calculate_freqs</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>An oversampling*NFFT point Fourier Transform is applied to the time domain
data, where NFFT is the next power of two of the number of samples.
Time-windowing can be used by providing a first_sample and last_sample
index.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.iFFT">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">iFFT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Y</span></em>, <em class="sig-param"><span class="n">output_length</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">window</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#iFFT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.iFFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform inverse real-valued (Fast) Fourier Transform (iFFT).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Y</strong> (<em>array_like</em>) – Frequency domain data [Nsignals x Nbins]</p></li>
<li><p><strong>output_length</strong> (<em>int, optional</em>) – Length of returned time-domain signal (Default: 2 x len(Y) + 1)</p></li>
<li><p><strong>window</strong> (<em>str, optional</em>) – Window applied to the resulting time-domain signal</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>y</strong> (<em>array_like</em>) – Reconstructed time-domain signal</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.spatFT">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">spatFT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">position_grid</span></em>, <em class="sig-param"><span class="n">order_max</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">spherical_harmonic_bases</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#spatFT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.spatFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform spatial Fourier transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array_like</em>) – Data to be transformed, with signals in rows and frequency bins in
columns</p></li>
<li><p><strong>position_grid</strong> (<em>array_like or io.SphericalGrid</em>) – Azimuths/Colatitudes/Gridweights of spatial sampling points</p></li>
<li><p><strong>order_max</strong> (<em>int, optional</em>) – Maximum transform order [Default: 10]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
<li><p><strong>spherical_harmonic_bases</strong> (<em>array_like, optional</em>) – Spherical harmonic base coefficients (not yet weighted by spatial
sampling grid) [Default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Pnm</strong> (<em>array_like</em>) – Spatial Fourier Coefficients with nm coeffs in rows and FFT bins in
columns</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>In case no weights in spatial sampling grid are given, the pseudo inverse
of the SH bases is computed according to Eq. 3.34 in <a class="footnote-reference brackets" href="#id14" id="id13">5</a>.</p>
</div>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id14"><span class="brackets"><a class="fn-backref" href="#id13">5</a></span></dt>
<dd><p>Boaz Rafaely: Fundamentals of spherical array processing. In.
Springer topics in signal processing. Benesty, J.; Kellermann,
W. (Eds.), Springer, Heidelberg et al. (2015).</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.spatFT_RT">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">spatFT_RT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">spherical_harmonic_weighted</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#spatFT_RT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.spatFT_RT" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform spatial Fourier transform for real-time applications
(otherwise use <cite>spatFT()</cite> for more more convenience and flexibility).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array_like</em>) – Data to be transformed, with signals in rows and frequency bins in
columns</p></li>
<li><p><strong>spherical_harmonic_weighted</strong> (<em>array_like</em>) – Spherical harmonic base coefficients (already weighted by spatial
sampling grid)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Pnm</strong> (<em>array_like</em>) – Spatial Fourier Coefficients with nm coeffs in rows and FFT bins in
columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.spatFT_LSF">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">spatFT_LSF</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">position_grid</span></em>, <em class="sig-param"><span class="n">order_max</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">spherical_harmonic_bases</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#spatFT_LSF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.spatFT_LSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform spatial Fourier transform by least square fit to provided data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array_like, complex</em>) – Data to be fitted to</p></li>
<li><p><strong>position_grid</strong> (<em>array_like, or io.SphericalGrid</em>) – Azimuth / colatitude data locations</p></li>
<li><p><strong>order_max</strong> (<em>int, optional</em>) – Maximum transform order [Default: 10]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
<li><p><strong>spherical_harmonic_bases</strong> (<em>array_like, optional</em>) – Spherical harmonic base coefficients (not yet weighted by spatial
sampling grid) [Default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coefficients</strong> (<em>array_like, float</em>) – Fitted spherical harmonic coefficients (indexing: n**2 + n + m + 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.iSpatFT">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">iSpatFT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spherical_coefficients</span></em>, <em class="sig-param"><span class="n">position_grid</span></em>, <em class="sig-param"><span class="n">order_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em>, <em class="sig-param"><span class="n">spherical_harmonic_bases</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#iSpatFT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.iSpatFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform inverse spatial Fourier transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spherical_coefficients</strong> (<em>array_like</em>) – Spatial Fourier coefficients with columns representing frequency bins</p></li>
<li><p><strong>position_grid</strong> (<em>array_like or io.SphericalGrid</em>) – Azimuth/Colatitude angles of spherical coefficients</p></li>
<li><p><strong>order_max</strong> (<em>int, optional</em>) – Maximum transform order [Default: highest available order]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
<li><p><strong>spherical_harmonic_bases</strong> (<em>array_like, optional</em>) – Spherical harmonic base coefficients (not yet weighted by spatial
sampling grid) [Default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>P</strong> (<em>array_like</em>) – Sound pressures with frequency bins in columns and angles in rows</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id15">
<p class="admonition-title">Todo</p>
<p>Check <cite>spherical_coefficients</cite> and <cite>spherical_harmonic_bases</cite> length
correspond with <cite>order_max</cite></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.plane_wave_decomp">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">plane_wave_decomp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">wave_direction</span></em>, <em class="sig-param"><span class="n">field_coeffs</span></em>, <em class="sig-param"><span class="n">radial_filter</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#plane_wave_decomp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.plane_wave_decomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform plane wave decomposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – Decomposition order</p></li>
<li><p><strong>wave_direction</strong> (<em>array_like</em>) – Direction of plane wave as [azimuth, colatitude] pair.
io.SphericalGrid is used internally</p></li>
<li><p><strong>field_coeffs</strong> (<em>array_like</em>) – Spatial fourier coefficients</p></li>
<li><p><strong>radial_filter</strong> (<em>array_like</em>) – Radial filters</p></li>
<li><p><strong>weights</strong> (<em>array_like, optional</em>) – Weighting function. Either scalar, one per directions or of dimension
(nKR_bins x  nDirections). [Default: None]</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Y</strong> (<em>matrix of floats</em>) – Matrix of the decomposed wave field with kr bins in rows</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.rfi">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">rfi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dn</span></em>, <em class="sig-param"><span class="n">kernelSize</span><span class="o">=</span><span class="default_value">512</span></em>, <em class="sig-param"><span class="n">highPass</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#rfi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.rfi" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform radial filter improvement (RFI), according to <a class="footnote-reference brackets" href="#id17" id="id16">6</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dn</strong> (<em>array_like</em>) – Analytical frequency domain radial filters
(e.g. <cite>gen.radial_filter_fullspec()</cite>)</p></li>
<li><p><strong>kernelSize</strong> (<em>int, optional</em>) – Target filter kernel size [Default: 512]</p></li>
<li><p><strong>highPass</strong> (<em>float, optional</em>) – Highpass Filter from 0.0 (off) to 1.0 (maximum kr) [Default: 0.0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>dn</strong> (<em>array_like</em>) – Improved radial filters</p></li>
<li><p><strong>kernelSize</strong> (<em>int</em>) – Filter kernel size (total)</p></li>
<li><p><strong>latency</strong> (<em>float</em>) – Approximate signal latency due to the filters</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This function improves the FIR radial filters from
<cite>gen.radial_filter_fullspec()</cite>. The filters are made causal and are
windowed in time domain. The DC components are estimated. The R/F/I module
should always be inserted to the filter path when treating measured data
even if no use is made of the included kernel downscaling or highpass
filters.</p>
<p>Do NOT use R/F/I for single open sphere filters (e.g. simulations).</p>
<dl class="simple">
<dt>IMPORTANT</dt><dd><p>Remember to choose a kernel size being large enough to cover all filter
latencies and response slopes. Otherwise undesired cyclic convolution
artifacts may appear in the output signal.</p>
</dd>
<dt>HIGHPASS</dt><dd><p>If HPF is on (0&lt;highPass&lt;=1) the radial filters and HPF share the
available taps and the latency keeps constant. Be careful when using
very small kernel sizes because since there might be too few taps.
Observe the filters by plotting their spectra and impulse responses!
&gt; Be very careful if NFFT/max(kr) &lt; 25
&gt; Do not use R/F/I if NFFT/max(kr) &lt; 15</p>
</dd>
</dl>
</div>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id17"><span class="brackets">6</span><span class="fn-backref">(<a href="#id16">1</a>,<a href="#id25">2</a>)</span></dt>
<dd><p>B. Bernschütz, C. Pörschmann, S. Spors, and S. Weinzierl, “SOFiA
Sound Field Analysis Toolbox,” in International Conference on Spatial
Audio, 2011, pp. 7–15.</p>
</dd>
</dl>
</div>
<div class="admonition-todo admonition" id="id18">
<p class="admonition-title">Todo</p>
<p>Implement <cite>kernelsize</cite> extension</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.sfe">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">sfe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Pnm_kra</span></em>, <em class="sig-param"><span class="n">kra</span></em>, <em class="sig-param"><span class="n">krb</span></em>, <em class="sig-param"><span class="n">problem</span><span class="o">=</span><span class="default_value">'interior'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#sfe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.sfe" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform sound field extrapolation (SFE) - WORK IN PROGRESS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pnm_kra</strong> (<em>array_like</em>) – Spatial Fourier coefficients (e.g. from <cite>spatFT()</cite>)</p></li>
<li><p><strong>kra,krb</strong> (<em>array_like</em>) – k * ra/rb vector</p></li>
<li><p><strong>problem</strong> (<em>string{‘interior’, ‘exterior’}</em>) – Select between interior and exterior problem [Default: interior]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Pnm_kra</strong> (<em>array_like</em>) – Extrapolated spatial Fourier coefficients</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id19">
<p class="admonition-title">Todo</p>
<p>Verify sound field extrapolation</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.wdr">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">wdr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Pnm</span></em>, <em class="sig-param"><span class="n">xAngle</span></em>, <em class="sig-param"><span class="n">yAngle</span></em>, <em class="sig-param"><span class="n">zAngle</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#wdr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.wdr" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform Wigner-D rotation (WDR) - NOT YET IMPLEMENTED.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pnm</strong> (<em>array_like</em>) – Spatial Fourier coefficients</p></li>
<li><p><strong>xAngle, yAngle, zAngle</strong> (<em>float</em>) – Rotation angle around the x/y/z-Axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>PnmRot</strong> (<em>array_like</em>) – Rotated spatial Fourier coefficients</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id20">
<p class="admonition-title">Todo</p>
<p>Implement Wigner-D rotations</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.process.convolve">
<code class="sig-prename descclassname">sound_field_analysis.process.</code><code class="sig-name descname">convolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">A</span></em>, <em class="sig-param"><span class="n">B</span></em>, <em class="sig-param"><span class="n">FFT</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/process.html#convolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.process.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve two arrays A &amp; B row-wise where one or both can be
one-dimensional for SIMO/SISO convolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A, B</strong> (<em>array_like</em>) – Data to perform the convolution on of shape [Nsignals x NSamples]</p></li>
<li><p><strong>FFT</strong> (<em>bool, optional</em>) – Selects whether time or frequency domain convolution is applied.
[Default: On if Nsamples &gt; 500 for both]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> (<em>array</em>) – Array containing row-wise, linear convolution of A and B</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.sph">
<span id="spherical"></span><h2>Spherical<a class="headerlink" href="#module-sound_field_analysis.sph" title="Permalink to this headline">¶</a></h2>
<p>Module containing various spherical harmonics helper functions:</p>
<dl class="simple">
<dt><cite>besselj</cite> / <cite>neumann</cite></dt><dd><p>Bessel function of first and second kind of order n at kr.</p>
</dd>
<dt><cite>hankel1</cite> / <cite>hankel2</cite></dt><dd><p>Hankel function of first and second kind of order n at kr.</p>
</dd>
<dt><cite>spbessel</cite> / <cite>spneumann</cite></dt><dd><p>Spherical Bessel function of first and second kind of order n at kr.</p>
</dd>
<dt><cite>sphankel1</cite> / <cite>sphankel2</cite></dt><dd><p>Spherical Hankel of first and second kind of order n at kr.</p>
</dd>
<dt><cite>dspbessel</cite> / <cite>dspneumann</cite></dt><dd><p>Derivative of spherical Bessel of first and second kind of order n at kr.</p>
</dd>
<dt><cite>dsphankel1</cite> / <cite>dsphankel2</cite></dt><dd><p>Derivative spherical Hankel of first and second kind of order n at kr.</p>
</dd>
<dt><cite>spherical_extrapolation</cite></dt><dd><p>Factor that relate signals recorded on a sphere to it’s center.</p>
</dd>
<dt><cite>array_extrapolation</cite></dt><dd><p>Factor that relate signals recorded on a sphere to it’s center. In the
rigid configuration, a scatter_radius that is different to the array radius
may be set.</p>
</dd>
<dt><cite>sph_harm</cite></dt><dd><p>Compute spherical harmonics.</p>
</dd>
<dt><cite>sph_harm_large</cite></dt><dd><p>Compute spherical harmonics for large orders &gt; 84.</p>
</dd>
<dt><cite>sph_harm_all</cite></dt><dd><p>Compute all spherical harmonic coefficients up to degree nMax.</p>
</dd>
<dt><cite>mnArrays</cite></dt><dd><p>Generate degrees n and orders m up to nMax.</p>
</dd>
<dt><cite>reverseMnIds</cite></dt><dd><p>Generate reverse indexes according to stacked coefficients of orders m up
to nMax.</p>
</dd>
<dt><cite>cart2sph</cite> / <cite>sph2cart</cite></dt><dd><p>Convert cartesian to spherical coordinates and vice versa.</p>
</dd>
<dt><cite>kr</cite></dt><dd><p>Generate kr vector for given f and array radius.</p>
</dd>
<dt><cite>kr_full_spec</cite></dt><dd><p>Generate full spectrum kr.</p>
</dd>
</dl>
<dl class="py function">
<dt id="sound_field_analysis.sph.besselj">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">besselj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#besselj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.besselj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bessel function of first kind of order n at kr. Wraps
<cite>scipy.special.jn(n, z)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>J</strong> (<em>array_like</em>) – Values of Bessel function of order n at position z</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.neumann">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">neumann</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#neumann"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.neumann" title="Permalink to this definition">¶</a></dt>
<dd><p>Bessel function of second kind (Neumann / Weber function) of order n at
kr. Implemented as <cite>(hankel1(n, z) - besselj(n, z)) / 1j</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Y</strong> (<em>array_like</em>) – Values of Hankel function of order n at position z</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.hankel1">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">hankel1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#hankel1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.hankel1" title="Permalink to this definition">¶</a></dt>
<dd><p>Hankel function of first kind of order n at kr. Wraps
<cite>scipy.special.hankel2(n, z)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>H1</strong> (<em>array_like</em>) – Values of Hankel function of order n at position z</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.hankel2">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">hankel2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#hankel2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.hankel2" title="Permalink to this definition">¶</a></dt>
<dd><p>Hankel function of second kind of order n at kr. Wraps
<cite>scipy.special.hankel2(n, z)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>H2</strong> (<em>array_like</em>) – Values of Hankel function of order n at position z</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.spbessel">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">spbessel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#spbessel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.spbessel" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical Bessel function (first kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>J</strong> (<em>complex float</em>) – Spherical Bessel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.spneumann">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">spneumann</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#spneumann"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.spneumann" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical Neumann (Bessel second kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Yv</strong> (<em>complex float</em>) – Spherical Neumann (Bessel second kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sphankel1">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sphankel1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sphankel1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sphankel1" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical Hankel (first kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>hn1</strong> (<em>complex float</em>) – Spherical Hankel function hn (first kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sphankel2">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sphankel2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sphankel2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sphankel2" title="Permalink to this definition">¶</a></dt>
<dd><p>Spherical Hankel (second kind) of order n at kr</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>hn2</strong> (<em>complex float</em>) – Spherical Hankel function hn (second kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.dspbessel">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">dspbessel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#dspbessel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.dspbessel" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative of spherical Bessel (first kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>J’</strong> (<em>complex float</em>) – Derivative of spherical Bessel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.dspneumann">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">dspneumann</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#dspneumann"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.dspneumann" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative spherical Neumann (Bessel second kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Yv’</strong> (<em>complex float</em>) – Derivative of spherical Neumann (Bessel second kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.dsphankel1">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">dsphankel1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#dsphankel1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.dsphankel1" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative spherical Hankel (first kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dhn1</strong> (<em>complex float</em>) – Derivative of spherical Hankel function hn’ (second kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.dsphankel2">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">dsphankel2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#dsphankel2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.dsphankel2" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative spherical Hankel (second kind) of order n at kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>array_like</em>) – Order</p></li>
<li><p><strong>kr</strong> (<em>array_like</em>) – Argument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dhn2</strong> (<em>complex float</em>) – Derivative of spherical Hankel function hn’ (second kind)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.spherical_extrapolation">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">spherical_extrapolation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">k_mic</span></em>, <em class="sig-param"><span class="n">k_scatter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">k_dual</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#spherical_extrapolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.spherical_extrapolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor that relate signals recorded on a sphere to it’s center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – Order</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>k_mic</strong> (<em>array_like</em>) – K vector for microphone array</p></li>
<li><p><strong>k_scatter</strong> (<em>array_like, optional</em>) – K vector for scatterer  [Default: same as k_mic]</p></li>
<li><p><strong>k_dual</strong> (<em>float, optional</em>) – Radius of second array, required for <cite>array_type</cite> == ‘dual’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>b</strong> (<em>array, complex</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.array_extrapolation">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">array_extrapolation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">freqs</span></em>, <em class="sig-param"><span class="n">array_configuration</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#array_extrapolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.array_extrapolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor that relate signals recorded on a sphere to it’s center. In the
rigid configuration, a scatter_radius that is different to the array radius
may be set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – Order</p></li>
<li><p><strong>freqs</strong> (<em>array_like</em>) – Frequencies</p></li>
<li><p><strong>array_configuration</strong> (<em>io.ArrayConfiguration</em>) – List/Tuple/ArrayConfiguration, see io.ArrayConfiguration</p></li>
<li><p><strong>normalize</strong> (<em>Bool, optional</em>) – Normalize by 4 * pi * 1j ** order [Default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>b</strong> (<em>array, complex</em>) – Coefficients of shape [nOrder x nFreqs]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.bn_open_omni">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">bn_open_omni</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">krm</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#bn_open_omni"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.bn_open_omni" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.bn_open_cardioid">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">bn_open_cardioid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">krm</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#bn_open_cardioid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.bn_open_cardioid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.bn_rigid_omni">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">bn_rigid_omni</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">krm</span></em>, <em class="sig-param"><span class="n">krs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#bn_rigid_omni"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.bn_rigid_omni" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.bn_rigid_cardioid">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">bn_rigid_cardioid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">krm</span></em>, <em class="sig-param"><span class="n">krs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#bn_rigid_cardioid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.bn_rigid_cardioid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.bn_dual_open_omni">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">bn_dual_open_omni</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">kr1</span></em>, <em class="sig-param"><span class="n">kr2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#bn_dual_open_omni"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.bn_dual_open_omni" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sph_harm">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sph_harm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">az</span></em>, <em class="sig-param"><span class="n">co</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sph_harm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sph_harm" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute spherical harmonics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>(int)</em>) – Order of the spherical harmonic. abs(m) &lt;= n</p></li>
<li><p><strong>n</strong> (<em>(int)</em>) – Degree of the harmonic, sometimes called l. n &gt;= 0</p></li>
<li><p><strong>az</strong> (<em>(float)</em>) – Azimuthal (longitudinal) coordinate [0, 2pi], also called Theta.</p></li>
<li><p><strong>co</strong> (<em>(float)</em>) – Polar (colatitudinal) coordinate [0, pi], also called Phi.</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type according to complex <a class="footnote-reference brackets" href="#id23" id="id21">7</a> or
real definition <a class="footnote-reference brackets" href="#id24" id="id22">8</a> [Default: ‘complex’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>y_mn</strong> (<em>(complex float) or (float)</em>) – Spherical harmonic of order m and degree n, sampled at theta = az,
phi = co</p>
</dd>
</dl>
<div class="admonition-references admonition">
<p class="admonition-title">References</p>
<dl class="footnote brackets">
<dt class="label" id="id23"><span class="brackets">7</span><span class="fn-backref">(<a href="#id21">1</a>,<a href="#id26">2</a>)</span></dt>
<dd><p>scipy.special.sph_harm</p>
</dd>
<dt class="label" id="id24"><span class="brackets"><a class="fn-backref" href="#id22">8</a></span></dt>
<dd><p>F. Zotter, “Analysis and synthesis of sound-radiation with
spherical arrays,” University of Music and Performing Arts, 2009.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sph_harm_large">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sph_harm_large</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">az</span></em>, <em class="sig-param"><span class="n">co</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sph_harm_large"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sph_harm_large" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute spherical harmonics for large orders &gt; 84.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>(int)</em>) – Order of the spherical harmonic. abs(m) &lt;= n</p></li>
<li><p><strong>n</strong> (<em>(int)</em>) – Degree of the harmonic, sometimes called l. n &gt;= 0</p></li>
<li><p><strong>az</strong> (<em>(float)</em>) – Azimuthal (longitudinal) coordinate [0, 2pi], also called Theta.</p></li>
<li><p><strong>co</strong> (<em>(float)</em>) – Polar (colatitudinal) coordinate [0, pi], also called Phi.</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type according to complex <a class="footnote-reference brackets" href="#id17" id="id25">6</a> or
real definition <a class="footnote-reference brackets" href="#id23" id="id26">7</a> [Default: ‘complex’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>y_mn</strong> (<em>(complex float) or (float)</em>) – Spherical harmonic of order m and degree n, sampled at
theta = az,
phi = co</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Y_n,m (theta, phi) = ((n - m)! * (2l + 1)) / (4pi * (l + m))^0.5
* exp(i m phi) * P_n^m(cos(theta)) as per <a class="reference external" href="http://dlmf.nist.gov/14.30">http://dlmf.nist.gov/14.30</a>
Pmn(z) are the associated Legendre functions of the first kind,
like scipy.special.lpmv, which calculates P(0…m 0…n) and its derivative
but won’t return +inf at high orders.</p>
</div>
<div class="admonition-todo admonition" id="id27">
<p class="admonition-title">Todo</p>
<p>Confirm that the correct SH definition is used</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sph_harm_all">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sph_harm_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nMax</span></em>, <em class="sig-param"><span class="n">az</span></em>, <em class="sig-param"><span class="n">co</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'complex'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sph_harm_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sph_harm_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all spherical harmonic coefficients up to degree nMax.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nMax</strong> (<em>(int)</em>) – Maximum degree of coefficients to be returned. n &gt;= 0</p></li>
<li><p><strong>az</strong> (<em>(float), array_like</em>) – Azimuthal (longitudinal) coordinate [0, 2pi], also called Theta.</p></li>
<li><p><strong>co</strong> (<em>(float), array_like</em>) – Polar (colatitudinal) coordinate [0, pi], also called Phi.</p></li>
<li><p><strong>kind</strong> (<em>{‘complex’, ‘real’}, optional</em>) – Spherical harmonic coefficients data type [Default: ‘complex’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>y_mn</strong> (<em>(complex float) or (float), array_like</em>) – Spherical harmonics of degrees n [0 … nMax] and all corresponding
orders m [-n … n], sampled at [az, co]. dim1 corresponds to az/co
pairs, dim2 to oder/degree (m, n) pairs like 0/0, -1/1, 0/1, 1/1,
-2/2, -1/2 …</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.mnArrays">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">mnArrays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nMax</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#mnArrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.mnArrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate degrees n and orders m up to nMax.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nMax</strong> (<em>(int)</em>) – Maximum degree of coefficients to be returned. n &gt;= 0</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>m</strong> (<em>(int), array_like</em>) – 0, -1, 0, 1, -2, -1, 0, 1, 2, … , -nMax …, nMax</p></li>
<li><p><strong>n</strong> (<em>(int), array_like</em>) – 0, 1, 1, 1, 2, 2, 2, 2, 2, … nMax, nMax, nMax</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.reverseMnIds">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">reverseMnIds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nMax</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#reverseMnIds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.reverseMnIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate reverse indexes according to stacked coefficients of orders m up
to nMax.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nMax</strong> (<em>(int)</em>) – Maximum degree of coefficients reverse indexes to be returned. n &gt;= 0</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>rev_ids</strong> (<em>(int), array_like</em>) – 0, 3, 2, 1, 8, 7, 6, 5, 4, …</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.cart2sph">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">cart2sph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#cart2sph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.cart2sph" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert cartesian coordinates x, y, z to spherical coordinates
az, el, r.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.sph2cart">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">sph2cart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">az</span></em>, <em class="sig-param"><span class="n">el</span></em>, <em class="sig-param"><span class="n">r</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#sph2cart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.sph2cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spherical coordinates az, el, r to cartesian coordinates
x, y, z.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.kr">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">kr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#kr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.kr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate kr vector for given f and array radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>array_like</em>) – Frequencies to calculate the kr for</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius of array</p></li>
<li><p><strong>temperature</strong> (<em>float, optional</em>) – Room temperature in degree Celsius [Default: 20]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>kr</strong> (<em>array_like</em>) – 2 * pi * f / c(temperature) * r</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.sph.kr_full_spec">
<code class="sig-prename descclassname">sound_field_analysis.sph.</code><code class="sig-name descname">kr_full_spec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">NFFT</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/sph.html#kr_full_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.sph.kr_full_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate full spectrum kr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fs</strong> (<em>int</em>) – Sampling rate in Hertz</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius</p></li>
<li><p><strong>NFFT</strong> (<em>int</em>) – Number of frequency bins</p></li>
<li><p><strong>temperature</strong> (<em>float, optional</em>) – Temperature in degree Celsius [Default: 20 C]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>kr</strong> (<em>array_like</em>) – kr vector of length NFFT/2 + 1 spanning the frequencies of 0:fs/2</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sound_field_analysis.utils">
<span id="utilities"></span><h2>Utilities<a class="headerlink" href="#module-sound_field_analysis.utils" title="Permalink to this headline">¶</a></h2>
<p>Module containing various utility functions:</p>
<dl class="simple">
<dt><cite>env_info</cite></dt><dd><p>Guess environment based on <cite>sys.modules</cite>.</p>
</dd>
<dt><cite>progress_bar</cite></dt><dd><p>Display a spinner or a progress bar.</p>
</dd>
<dt><cite>db</cite></dt><dd><p>Convenience function to calculate the 20*log10(abs(x)).</p>
</dd>
<dt><cite>cart2sph</cite> / <cite>sph2cart</cite></dt><dd><p>Transform cartesian into spherical coordinates and vice versa.</p>
</dd>
<dt><cite>SOFA_grid2acr</cite></dt><dd><p>Transform coordinate grid with specified coordinate system definition
from a SOFA file into spherical coordinates in radians.</p>
</dd>
<dt><cite>nearest_to_value</cite> / <cite>nearest_to_value_IDX</cite> / <cite>nearest_to_value_logical_IDX</cite></dt><dd><p>Returns nearest value inside an array.</p>
</dd>
<dt><cite>interleave_channels</cite></dt><dd><p>Interleave left and right channels. Style == ‘SSR’ checks if we total
360 channels.</p>
</dd>
<dt><cite>simple_resample</cite></dt><dd><p>Wrap scipy.signal.resample with a simpler API.</p>
</dd>
<dt><cite>scalar_broadcast_match</cite></dt><dd><p>Returns arguments as np.array, if one is a scalar it will broadcast the
other one’s shape.</p>
</dd>
<dt><cite>frq2kr</cite></dt><dd><p>Returns the kr bin closest to the target frequency.</p>
</dd>
<dt><cite>stack</cite></dt><dd><p>Stacks two 2D vectors along the same-sized dimension or the smaller one.</p>
</dd>
<dt><cite>zero_pad_fd</cite></dt><dd><p>Apply zero padding to frequency domain data by transformation into time
domain and back.</p>
</dd>
<dt><cite>current_time</cite></dt><dd><p>Return current system time based on <cite>datetime.now()</cite>.</p>
</dd>
<dt><cite>time_it</cite></dt><dd><p>Measure execution of a specified statement which is useful for the
performance analysis. In this way, the execution time and respective
results can be directly compared.</p>
</dd>
</dl>
<dl class="py function">
<dt id="sound_field_analysis.utils.env_info">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">env_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#env_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.env_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess environment based on <cite>sys.modules</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>env</strong> (<em>string{‘jupyter_notebook’, ‘ipython_terminal’, ‘terminal’}</em>) – Guessed environment</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.progress_bar">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">progress_bar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">curIDX</span></em>, <em class="sig-param"><span class="n">maxIDX</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">'Progress'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#progress_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.progress_bar" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a spinner or a progress bar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>curIDX</strong> (<em>int</em>) – Current position in the loop</p></li>
<li><p><strong>maxIDX</strong> (<em>int, optional</em>) – Number of iterations. Will force a spinner if set to None.
[Default: None]</p></li>
<li><p><strong>description</strong> (<em>string, optional</em>) – Clarify what’s taking time</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.db">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">power</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.db" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to calculate the 20*log10(abs(x)).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array_like</em>) – signals to be converted to db</p></li>
<li><p><strong>power</strong> (<em>boolean</em>) – data is a power signal and only needs factor 10</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>db</strong> (<em>array_like</em>) – 20 * log10(abs(data))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.cart2sph">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">cart2sph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cartesian_coords</span></em>, <em class="sig-param"><span class="n">is_deg</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#cart2sph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.cart2sph" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform cartesian into spherical coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cartesian_coords</strong> (<em>numpy.ndarray</em>) – cartesian coordinates (x, y, z) of size [3; number of coordinates]</p></li>
<li><p><strong>is_deg</strong> (<em>bool, optional</em>) – if values should be calculated in degrees (radians otherwise)
[Default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>numpy.ndarray</em> – spherical coordinates (azimuth [0 … 2pi or 0 … 360deg],
colatitude [0 … pi or 0 … 180deg], radius [meter]) of size
[3; number of coordinates]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.sph2cart">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">sph2cart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spherical_coords</span></em>, <em class="sig-param"><span class="n">is_deg</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#sph2cart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.sph2cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform spherical into cartesian coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spherical_coords</strong> (<em>numpy.ndarray</em>) – spherical coordinates (azimuth, colatitude, radius) of size
[3; number of coordinates]</p></li>
<li><p><strong>is_deg</strong> (<em>bool, optional</em>) – True if values are given in degrees (radians otherwise) [Default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>numpy.ndarray</em> – cartesian coordinates (x, y, z) of size [3; number of coordinates]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.SOFA_grid2acr">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">SOFA_grid2acr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_values</span></em>, <em class="sig-param"><span class="n">grid_info</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#SOFA_grid2acr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.SOFA_grid2acr" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform coordinate grid with specified coordinate system definition
from a SOFA file into spherical coordinates in radians.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_values</strong> (<em>numpy.ndarray</em>) – Coordinates either spherical or cartesian of size
[3; number of coordinates]</p></li>
<li><p><strong>grid_info</strong> (<em>list of str</em>) – Definition of coordinate system contained in the provided values
according to SOFA convention, i.e. either (‘degree, degree, metre’,
‘spherical’) or (‘metre, metre, metre’, ‘cartesian’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>numpy.ndarray</em> – Spherical coordinates (azimuth [0 … 2pi], colatitude [0 … pi],
radius [meter]) of size [3; number of coordinates]</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – In case unknown coordinate system definition is given</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is used for source position of “SimpleFreeFieldHRIR” and receiver
position of “SingleRoomDRIR”. These conventions technically require
different specific coordinate systems. Experience showed, that this is not
exactly met by all SOFA files, hence cartesian or spherical coordinates will
be transformed in either case.</p>
</div>
<div class="admonition-todo admonition" id="id28">
<p class="admonition-title">Todo</p>
<p>Validate data units against individual convention in <cite>pysofaconventions</cite></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.nearest_to_value_IDX">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">nearest_to_value_IDX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">target_val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#nearest_to_value_IDX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.nearest_to_value_IDX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns nearest value inside an array.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.nearest_to_value">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">nearest_to_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">target_val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#nearest_to_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.nearest_to_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns nearest value inside an array.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.nearest_to_value_logical_IDX">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">nearest_to_value_logical_IDX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">target_val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#nearest_to_value_logical_IDX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.nearest_to_value_logical_IDX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns logical indices of nearest values inside array.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.interleave_channels">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">interleave_channels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">left_channel</span></em>, <em class="sig-param"><span class="n">right_channel</span></em>, <em class="sig-param"><span class="n">style</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#interleave_channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.interleave_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Interleave left and right channels. Style == ‘SSR’ checks if we total
360 channels.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.simple_resample">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">simple_resample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">original_fs</span></em>, <em class="sig-param"><span class="n">target_fs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#simple_resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.simple_resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap scipy.signal.resample with a simpler API.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.scalar_broadcast_match">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">scalar_broadcast_match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#scalar_broadcast_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.scalar_broadcast_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns arguments as np.array, if one is a scalar it will broadcast the
other one’s shape.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.frq2kr">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">frq2kr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_frequency</span></em>, <em class="sig-param"><span class="n">freq_vector</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#frq2kr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.frq2kr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the kr bin closest to the target frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_frequency</strong> (<em>float</em>) – Target frequency</p></li>
<li><p><strong>freq_vector</strong> (<em>array_like</em>) – Array containing the available frequencys</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>krTarget</strong> (<em>int</em>) – kr bin closest to target frequency</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.stack">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">stack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vector_1</span></em>, <em class="sig-param"><span class="n">vector_2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Stacks two 2D vectors along the same-sized dimension or the smaller
one.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.zero_pad_fd">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">zero_pad_fd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_fd</span></em>, <em class="sig-param"><span class="n">target_length_td</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#zero_pad_fd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.zero_pad_fd" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply zero padding to frequency domain data by transformation into time
domain and back.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_fd</strong> (<em>numpy.ndarray</em>) – Single-sided spectrum</p></li>
<li><p><strong>target_length_td</strong> (<em>int</em>) – target length of time domain representation in samples</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>numpy.ndarray</em> – Zero padded single-sided spectrum</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.current_time">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">current_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#current_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current system time based on <cite>datetime.now()</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.get_named_tuple__repr__">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">get_named_tuple__repr__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">namedtuple</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#get_named_tuple__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.get_named_tuple__repr__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="sound_field_analysis.utils.time_it">
<code class="sig-prename descclassname">sound_field_analysis.utils.</code><code class="sig-name descname">time_it</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">description</span></em>, <em class="sig-param"><span class="n">stmt</span></em>, <em class="sig-param"><span class="n">setup</span></em>, <em class="sig-param"><span class="n">_globals</span></em>, <em class="sig-param"><span class="n">repeat</span></em>, <em class="sig-param"><span class="n">number</span></em>, <em class="sig-param"><span class="n">reference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check_dtype</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sound_field_analysis/utils.html#time_it"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sound_field_analysis.utils.time_it" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure execution of a specified statement which is useful for the
performance analysis. In this way, the execution time and respective
results can be directly compared.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>description</strong> (<em>str</em>) – Descriptive name of configuration to be shown in the log</p></li>
<li><p><strong>stmt</strong> (<em>str</em>) – Statement to be timed</p></li>
<li><p><strong>setup</strong> (<em>str</em>) – Additional statement used for setup</p></li>
<li><p><strong>_globals</strong> – Namespace the code will be executed in (as opposed to inside timeit’s
namespace)</p></li>
<li><p><strong>repeat</strong> (<em>int</em>) – How many times to repeat the timeit measurement (results will be
gathered as a list)</p></li>
<li><p><strong>number</strong> (<em>int</em>) – How many times to execute the statement to be timed</p></li>
<li><p><strong>reference</strong> (<em>list of (float, any), optional</em>) – Result with the same data structure as returned by this function,
which will be referenced in order to compare execution time and
similarity of the result data</p></li>
<li><p><strong>check_dtype</strong> (<em>str, optional</em>) – Data type of the result to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(float, any)</em> – Tuple of execution time in seconds (minimum of all repetitions) and
execution result of first repetition (data depends on the specified
statement to be timed)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modules.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Chalmers University of Technology.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>